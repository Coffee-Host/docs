---
title: LuckPerms 權限設定
description: 使用 LuckPerms 管理伺服器權限
---

import { Callout } from "fumadocs-ui/components/callout";
import { Step, Steps } from "fumadocs-ui/components/steps";

<Callout title="什麼是 LuckPerms？">LuckPerms 是目前最流行的 Minecraft 權限管理插件，支援 Paper、Spigot、Forge、Fabric 等各種伺服器。</Callout>

# 安裝 LuckPerms

<Steps>
    <Step>

    ### 下載 LuckPerms

    前往 [LuckPerms 官網](https://luckperms.net/download) 下載適合您伺服器的版本。

    | 伺服器類型 | 下載版本 |
    |------------|----------|
    | Paper / Spigot / Purpur | Bukkit |
    | BungeeCord / Waterfall | BungeeCord |
    | Velocity | Velocity |
    | Forge | Forge |
    | Fabric | Fabric |

    ![下載 LuckPerms](/images/practice/luckperms/download.png)

    </Step>

    <Step>

    ### 安裝插件

    將下載的 `.jar` 檔案上傳至 `plugins`（或 `mods`）資料夾，然後重新啟動伺服器。

    </Step>

    <Step>

    ### 確認安裝成功

    在控制台輸入 `lp` 指令，如果顯示 LuckPerms 的幫助訊息，表示安裝成功。

    ![確認安裝](/images/practice/luckperms/verify.png)

    </Step>

</Steps>

# 基本概念

在開始設定之前，先了解 LuckPerms 的基本概念：

| 術語 | 說明 |
|------|------|
| Permission（權限） | 控制玩家能做什麼的節點，例如 `essentials.home` |
| Group（群組） | 一組權限的集合，例如 `default`、`vip`、`admin` |
| User（使用者） | 個別玩家 |
| Inheritance（繼承） | 群組可以繼承其他群組的權限 |

# 建立權限群組

<Steps>
    <Step>

    ### 建立群組

    使用以下指令建立新群組：

    ```
    /lp creategroup vip
    /lp creategroup admin
    ```

    </Step>

    <Step>

    ### 設定群組權限

    為群組添加權限：

    ```
    # 為 VIP 群組添加飛行權限
    /lp group vip permission set essentials.fly true

    # 為 Admin 群組添加所有 EssentialsX 權限
    /lp group admin permission set essentials.* true
    ```

    ![設定權限](/images/practice/luckperms/set-permission.png)

    </Step>

    <Step>

    ### 設定群組繼承

    讓高級群組繼承低級群組的權限：

    ```
    # VIP 繼承 default 群組的權限
    /lp group vip parent add default

    # Admin 繼承 VIP 群組的權限
    /lp group admin parent add vip
    ```

    這樣 Admin 就會擁有 default + VIP + Admin 的所有權限。

    </Step>

    <Step>

    ### 設定群組前綴

    為群組設定聊天前綴（需要搭配聊天插件）：

    ```
    /lp group default meta addprefix 10 "&7[玩家] "
    /lp group vip meta addprefix 20 "&6[VIP] "
    /lp group admin meta addprefix 100 "&c[管理員] "
    ```

    <Callout type="info">數字代表優先順序，數字越大優先順序越高。</Callout>

    ![設定前綴](/images/practice/luckperms/prefix.png)

    </Step>

</Steps>

# 管理玩家權限

### 將玩家加入群組

```
# 將玩家 Steve 加入 VIP 群組
/lp user Steve parent set vip

# 將玩家 Alex 加入 Admin 群組
/lp user Alex parent add admin
```

### 給予玩家個人權限

```
# 給予 Steve 飛行權限
/lp user Steve permission set essentials.fly true

# 移除 Steve 的飛行權限
/lp user Steve permission unset essentials.fly
```

### 查看玩家權限

```
/lp user Steve info
/lp user Steve permission info
```

# 使用網頁編輯器

LuckPerms 提供方便的網頁編輯器，可以更直覺地管理權限。

<Steps>
    <Step>

    ### 開啟編輯器

    在遊戲中或控制台輸入：

    ```
    /lp editor
    ```

    系統會生成一個網址，點擊即可開啟編輯器。

    ![開啟編輯器](/images/practice/luckperms/editor-link.png)

    </Step>

    <Step>

    ### 編輯權限

    在網頁編輯器中，您可以：

    - 建立 / 刪除群組
    - 添加 / 移除權限
    - 設定前綴和後綴
    - 管理群組繼承
    - 編輯個別玩家

    ![網頁編輯器](/images/practice/luckperms/web-editor.png)

    </Step>

    <Step>

    ### 儲存變更

    編輯完成後，點擊右上角的「Save」按鈕，然後複製指令貼回遊戲中執行。

    ![儲存變更](/images/practice/luckperms/save-changes.png)

    </Step>

</Steps>

# 常用權限節點

### EssentialsX 權限

| 權限節點 | 功能說明 |
|----------|----------|
| `essentials.home` | 使用 /home 指令 |
| `essentials.sethome` | 使用 /sethome 指令 |
| `essentials.tpa` | 使用 /tpa 指令 |
| `essentials.fly` | 使用 /fly 指令 |
| `essentials.gamemode` | 使用 /gamemode 指令 |
| `essentials.*` | 所有 EssentialsX 權限 |

### WorldEdit 權限

| 權限節點 | 功能說明 |
|----------|----------|
| `worldedit.wand` | 使用選取工具 |
| `worldedit.selection.*` | 所有選取相關指令 |
| `worldedit.*` | 所有 WorldEdit 權限 |

### 基本權限

| 權限節點 | 功能說明 |
|----------|----------|
| `minecraft.command.tp` | 使用原版 /tp 指令 |
| `minecraft.command.gamemode` | 使用原版 /gamemode 指令 |

<Callout type="info">
每個插件的權限節點不同，請查閱各插件的文件了解詳細權限列表。
您也可以在控制台查看玩家執行指令時缺少的權限。
</Callout>

# 權限設定範例

以下是一個常見的權限結構範例：

```
default（預設群組）
├── essentials.home（設定家）
├── essentials.tpa（傳送請求）
├── essentials.spawn（傳送到出生點）
└── essentials.msg（私訊）

vip（VIP 群組，繼承 default）
├── essentials.fly（飛行）
├── essentials.sethome.multiple.5（5 個家）
└── essentials.nick（設定暱稱）

admin（管理員群組，繼承 vip）
├── essentials.*（所有 Essentials 權限）
├── worldedit.*（所有 WorldEdit 權限）
└── luckperms.*（所有 LuckPerms 權限）
```
